webpackJsonp([1],{"+bKF":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("pFYg"),a=e.n(s),r=e("mvHQ"),i=e.n(r),o=e("lHA8"),l=e.n(o),u=e("c/Tr"),c=e.n(u),p=e("2uKH"),d=e("45RP"),f=e("//Fk"),m=e.n(f),h=e("ZSmk"),v=e("0xDb"),b={name:"multiUpload",props:{value:Array,maxCount:{type:Number,default:30},listType:{type:String,default:"picture-card"},showFile:{type:Boolean,default:!0}},data:function(){return{dataObj:{policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:"",uuid:""},dialogVisible:!1,dialogImageUrl:null}},computed:{fileList:function(){for(var n=[],t=0;t<this.value.length;t++)n.push({url:this.value[t]});return n}},mounted:function(){},methods:{emitInput:function(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].url);this.$emit("input",t)},handleRemove:function(n,t){this.emitInput(t)},handlePreview:function(n){this.dialogVisible=!0,this.dialogImageUrl=n.url},beforeUpload:function(n){var t=this;return new m.a(function(n,e){Object(h.a)().then(function(e){t.dataObj.policy=e.data.policy,t.dataObj.signature=e.data.signature,t.dataObj.ossaccessKeyId=e.data.accessid,t.dataObj.key=e.data.dir+Object(v.b)()+"_${filename}",t.dataObj.dir=e.data.dir,t.dataObj.host=e.data.host,n(!0)}).catch(function(n){console.log("出错了...",n),e(!1)})})},handleUploadSuccess:function(n,t){this.fileList.push({name:t.name,url:this.dataObj.host+"/"+this.dataObj.key.replace("${filename}",t.name)}),this.emitInput(this.fileList)},handleExceed:function(n,t){this.$message({message:"最多只能上传"+this.maxCount+"张图片",type:"warning",duration:1e3})}}},g={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("el-upload",{attrs:{multiple:"",action:"http://zhaocan-gulimall.oss-cn-beijing.aliyuncs.com",data:n.dataObj,"list-type":n.listType,"file-list":n.fileList,"before-upload":n.beforeUpload,"on-remove":n.handleRemove,"on-success":n.handleUploadSuccess,"on-preview":n.handlePreview,limit:n.maxCount,"on-exceed":n.handleExceed,"show-file-list":n.showFile}},[e("i",{staticClass:"el-icon-plus"})]),n._v(" "),e("el-dialog",{attrs:{visible:n.dialogVisible},on:{"update:visible":function(t){n.dialogVisible=t}}},[e("img",{attrs:{width:"100%",src:n.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]};var w=e("VU/8")(b,g,!1,function(n){e("woMT")},null,null).exports,_={components:{CategoryCascader:p.default,BrandSelect:d.default,MultiUpload:w},props:{},data:function(){return{catPathSub:null,brandIdSub:null,uploadDialogVisible:!1,uploadImages:[],step:0,spu:{spuName:"",spuDescription:"",catelogId:0,brandId:"",weight:"",publishStatus:0,decript:[],images:[],bounds:{buyBounds:0,growBounds:0},baseAttrs:[],skus:[]},spuBaseInfoRules:{spuName:[{required:!0,message:"请输入商品名字",trigger:"blur"}],spuDescription:[{required:!0,message:"请编写一个简单描述",trigger:"blur"}],catelogId:[{required:!0,message:"请选择一个分类",trigger:"blur"}],brandId:[{required:!0,message:"请选择一个品牌",trigger:"blur"}],decript:[{required:!0,message:"请上传商品详情图集",trigger:"blur"}],images:[{required:!0,message:"请上传商品图片集",trigger:"blur"}],weight:[{type:"number",required:!0,message:"请填写正确的重量值",trigger:"blur"}]},dataResp:{attrGroups:[],baseAttrs:[],saleAttrs:[],tempSaleAttrs:[],tableAttrColumn:[],memberLevels:[],steped:[!1,!1,!1,!1,!1]},inputVisible:[],inputValue:[]}},computed:{},watch:{uploadImages:function(n){var t=this,e=c()(new l.a(this.spu.images.concat(n)));this.spu.skus.forEach(function(n,s){var a=e.length-t.spu.skus[s].images.length;if(a>0){var r=new Array(a);r=r.fill({imgUrl:"",defaultImg:0}),t.spu.skus[s].images=n.images.concat(r)}}),this.spu.images=e,console.log("this.spu.skus",this.spu.skus)}},methods:{addAgian:function(){this.step=0,this.resetSpuData()},resetSpuData:function(){this.spu={spuName:"",spuDescription:"",catelogId:0,brandId:"",weight:"",publishStatus:0,decript:[],images:[],bounds:{buyBounds:0,growBounds:0},baseAttrs:[],skus:[]}},handlePriceChange:function(n,t,e){this.spu.skus[n.$index].memberPrice[t].price=e},getMemberLevels:function(){var n=this;this.$http({url:this.$http.adornUrl("/member/memberlevel/list"),method:"get",params:this.$http.adornParams({page:1,limit:500})}).then(function(t){var e=t.data;n.dataResp.memberLevels=e.page.list}).catch(function(n){console.log(n)})},showInput:function(n){console.log("``````",this.view),this.inputVisible[n].view=!0},checkDefaultImg:function(n,t,e){console.log("默认图片",n,t),n.images[t].imgUrl=e,n.images[t].defaultImg=1,n.images.forEach(function(e,s){s!=t&&(n.images[s].defaultImg=0)})},handleInputConfirm:function(n){var t=this.inputValue[n].val;t&&(""==this.dataResp.saleAttrs[n].valueSelect?this.dataResp.saleAttrs[n].valueSelect=t:this.dataResp.saleAttrs[n].valueSelect+=";"+t),this.inputVisible[n].view=!1,this.inputValue[n].val=""},collectSpuBaseInfo:function(){var n=this;this.$refs.spuBaseForm.validate(function(t){if(!t)return!1;n.step=1,n.showBaseAttrs()})},generateSaleAttrs:function(){var n=this;this.spu.baseAttrs=[],this.dataResp.baseAttrs.forEach(function(t){t.forEach(function(t){var e=t.attrId,s=t.attrValues,a=t.showDesc;""!=s&&(s instanceof Array&&(s=s.join(";")),n.spu.baseAttrs.push({attrId:e,attrValues:s,showDesc:a}))})}),console.log("baseAttrs",this.spu.baseAttrs),this.step=2,this.getShowSaleAttr()},generateSkus:function(){var n=this;this.step=3;var t=[];this.dataResp.tableAttrColumn=[],this.dataResp.tempSaleAttrs.forEach(function(e){e.attrValues.length>0&&(t.push(e.attrValues),n.dataResp.tableAttrColumn.push(e))});var e=this.descartes(t);console.log("生成的组合",i()(e));var s=[];e.forEach(function(t,e){var a=[];t.forEach(function(t,e){var s={attrId:n.dataResp.tableAttrColumn[e].attrId,attrName:n.dataResp.tableAttrColumn[e].attrName,attrValue:t};a.push(s)});var r=[];n.spu.images.forEach(function(n,t){r.push({imgUrl:"",defaultImg:0})});var i=[];if(n.dataResp.memberLevels.length>0)for(var o=0;o<n.dataResp.memberLevels.length;o++)1==n.dataResp.memberLevels[o].priviledgeMemberPrice&&i.push({id:n.dataResp.memberLevels[o].id,name:n.dataResp.memberLevels[o].name,price:0});var l=n.hasAndReturnSku(n.spu.skus,t);null===l?s.push({attr:a,skuName:n.spu.spuName+" "+t.join(" "),price:0,skuTitle:n.spu.spuName+" "+t.join(" "),skuSubtitle:"",images:r,descar:t,fullCount:0,discount:0,countStatus:0,fullPrice:0,reducePrice:0,priceStatus:0,memberPrice:(new Array).concat(i)}):s.push(l)}),this.spu.skus=s,console.log("结果!!!",this.spu.skus,this.dataResp.tableAttrColumn)},hasAndReturnSku:function(n,t){var e=null;if(n.length>0)for(var s=0;s<n.length;s++)n[s].descar.join(" ")==t.join(" ")&&(e=n[s]);return e},getShowSaleAttr:function(){var n=this;this.dataResp.steped[1]||this.$http({url:this.$http.adornUrl("/product/attr/sale/list/"+this.spu.catelogId),method:"get",params:this.$http.adornParams({page:1,limit:500})}).then(function(t){var e=t.data;n.dataResp.saleAttrs=e.page.list,e.page.list.forEach(function(t){n.dataResp.tempSaleAttrs.push({attrId:t.attrId,attrValues:[],attrName:t.attrName}),n.inputVisible.push({view:!1}),n.inputValue.push({val:""})}),n.dataResp.steped[1]=!0})},showBaseAttrs:function(){var n=this;this.dataResp.steped[0]||this.$http({url:this.$http.adornUrl("/product/attrgroup/"+this.spu.catelogId+"/withattr"),method:"get",params:this.$http.adornParams({})}).then(function(t){var e=t.data;e.data.forEach(function(t){var e=[];t.attrs.forEach(function(n){e.push({attrId:n.attrId,attrValues:"",showDesc:n.showDesc})}),n.dataResp.baseAttrs.push(e)}),n.dataResp.steped[0]=0,n.dataResp.attrGroups=e.data})},submitSkus:function(){var n=this;console.log("~~~~~",i()(this.spu)),this.$confirm("将要提交商品数据，需要一小段时间，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$http({url:n.$http.adornUrl("/product/spuinfo/save"),method:"post",data:n.$http.adornData(n.spu,!1)}).then(function(t){var e=t.data;0==e.code?(n.$message({type:"success",message:"新增商品成功!"}),n.step=4):n.$message({type:"error",message:"保存失败，原因【"+e.msg+"】"})})}).catch(function(t){console.log(t),n.$message({type:"info",message:"已取消"})})},descartes:function(n){var t={},e=[],s=null,r=0,i=[];for(var o in n)"object"==a()(n[o])&&(t[o]={parent:s,count:0},s=o);if(null==s)return n;for(;;){for(var o in n)r=t[o].count,i.push(n[o][r]);for(e.push(i),i=[];;){if(!(t[o].count+1>=n[o].length)){t[o].count++;break}if(t[o].count=0,null==(s=t[o].parent))return e;o=s}}}},created:function(){},mounted:function(){var n=this;this.catPathSub=PubSub.subscribe("catPath",function(t,e){n.spu.catelogId=e[e.length-1]}),this.brandIdSub=PubSub.subscribe("brandId",function(t,e){n.spu.brandId=e}),this.getMemberLevels()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){PubSub.unsubscribe(this.catPathSub),PubSub.unsubscribe(this.brandIdSub)},destroyed:function(){},activated:function(){}},y={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-steps",{attrs:{active:n.step,"finish-status":"success"}},[e("el-step",{attrs:{title:"基本信息"}}),n._v(" "),e("el-step",{attrs:{title:"规格参数"}}),n._v(" "),e("el-step",{attrs:{title:"销售属性"}}),n._v(" "),e("el-step",{attrs:{title:"SKU信息"}}),n._v(" "),e("el-step",{attrs:{title:"保存完成"}})],1)],1),n._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:0==n.step,expression:"step==0"}],attrs:{span:24}},[e("el-card",{staticClass:"box-card",staticStyle:{width:"80%",margin:"20px auto"}},[e("el-form",{ref:"spuBaseForm",attrs:{model:n.spu,"label-width":"120px",rules:n.spuBaseInfoRules}},[e("el-form-item",{attrs:{label:"商品名称",prop:"spuName"}},[e("el-input",{model:{value:n.spu.spuName,callback:function(t){n.$set(n.spu,"spuName",t)},expression:"spu.spuName"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"商品描述",prop:"spuDescription"}},[e("el-input",{model:{value:n.spu.spuDescription,callback:function(t){n.$set(n.spu,"spuDescription",t)},expression:"spu.spuDescription"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"选择分类",prop:"catelogId"}},[e("category-cascader")],1),n._v(" "),e("el-form-item",{attrs:{label:"选择品牌",prop:"brandId"}},[e("brand-select")],1),n._v(" "),e("el-form-item",{attrs:{label:"商品重量(Kg)",prop:"weight"}},[e("el-input-number",{attrs:{min:0,precision:3,step:.1},model:{value:n.spu.weight,callback:function(t){n.$set(n.spu,"weight",n._n(t))},expression:"spu.weight"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"设置积分",prop:"bounds"}},[e("label",[n._v("金币")]),n._v(" "),e("el-input-number",{staticStyle:{width:"130px"},attrs:{placeholder:"金币",min:0,"controls-position":"right"},model:{value:n.spu.bounds.buyBounds,callback:function(t){n.$set(n.spu.bounds,"buyBounds",t)},expression:"spu.bounds.buyBounds"}}),n._v(" "),e("label",{staticStyle:{"margin-left":"15px"}},[n._v("成长值")]),n._v(" "),e("el-input-number",{staticStyle:{width:"130px"},attrs:{placeholder:"成长值",min:0,"controls-position":"right"},model:{value:n.spu.bounds.growBounds,callback:function(t){n.$set(n.spu.bounds,"growBounds",t)},expression:"spu.bounds.growBounds"}},[e("template",{slot:"prepend"},[n._v("成长值")])],2)],1),n._v(" "),e("el-form-item",{attrs:{label:"商品介绍",prop:"decript"}},[e("multi-upload",{model:{value:n.spu.decript,callback:function(t){n.$set(n.spu,"decript",t)},expression:"spu.decript"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"商品图集",prop:"images"}},[e("multi-upload",{model:{value:n.spu.images,callback:function(t){n.$set(n.spu,"images",t)},expression:"spu.images"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"success"},on:{click:n.collectSpuBaseInfo}},[n._v("下一步：设置基本参数")])],1)],1)],1)],1),n._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:1==n.step,expression:"step==1"}],attrs:{span:24}},[e("el-card",{staticClass:"box-card",staticStyle:{width:"80%",margin:"20px auto"}},[e("el-tabs",{staticStyle:{width:"98%"},attrs:{"tab-position":"left"}},n._l(n.dataResp.attrGroups,function(t,s){return e("el-tab-pane",{key:t.attrGroupId,attrs:{label:t.attrGroupName}},[e("el-form",{ref:"form",refInFor:!0,attrs:{model:n.spu}},n._l(t.attrs,function(t,a){return e("el-form-item",{key:t.attrId,attrs:{label:t.attrName}},[e("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"hidden"},model:{value:n.dataResp.baseAttrs[s][a].attrId,callback:function(t){n.$set(n.dataResp.baseAttrs[s][a],"attrId",t)},expression:"dataResp.baseAttrs[gidx][aidx].attrId"}}),n._v(" "),e("el-select",{attrs:{multiple:1==t.valueType,filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择或输入值"},model:{value:n.dataResp.baseAttrs[s][a].attrValues,callback:function(t){n.$set(n.dataResp.baseAttrs[s][a],"attrValues",t)},expression:"dataResp.baseAttrs[gidx][aidx].attrValues"}},n._l(t.valueSelect.split(";"),function(n,t){return e("el-option",{key:t,attrs:{label:n,value:n}})})),n._v(" "),e("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:n.dataResp.baseAttrs[s][a].showDesc,callback:function(t){n.$set(n.dataResp.baseAttrs[s][a],"showDesc",t)},expression:"dataResp.baseAttrs[gidx][aidx].showDesc"}},[n._v("快速展示")])],1)}))],1)})),n._v(" "),e("div",{staticStyle:{margin:"auto"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.step=0}}},[n._v("上一步")]),n._v(" "),e("el-button",{attrs:{type:"success"},on:{click:n.generateSaleAttrs}},[n._v("下一步：设置销售属性")])],1)],1)],1),n._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:2==n.step,expression:"step==2"}],attrs:{span:24}},[e("el-card",{staticClass:"box-card",staticStyle:{width:"80%",margin:"20px auto"}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[n._v("选择销售属性")]),n._v(" "),e("el-form",{ref:"saleform",attrs:{model:n.spu}},n._l(n.dataResp.saleAttrs,function(t,s){return e("el-form-item",{key:t.attrId,attrs:{label:t.attrName}},[e("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"hidden"},model:{value:n.dataResp.tempSaleAttrs[s].attrId,callback:function(t){n.$set(n.dataResp.tempSaleAttrs[s],"attrId",t)},expression:"dataResp.tempSaleAttrs[aidx].attrId"}}),n._v(" "),e("el-checkbox-group",{model:{value:n.dataResp.tempSaleAttrs[s].attrValues,callback:function(t){n.$set(n.dataResp.tempSaleAttrs[s],"attrValues",t)},expression:"dataResp.tempSaleAttrs[aidx].attrValues"}},[n._l(n.dataResp.saleAttrs[s].valueSelect.split(";"),function(t){return""!=n.dataResp.saleAttrs[s].valueSelect?e("el-checkbox",{key:t,attrs:{label:t}}):n._e()}),n._v(" "),e("div",{staticStyle:{"margin-left":"20px",display:"inline"}},[e("el-button",{directives:[{name:"show",rawName:"v-show",value:!n.inputVisible[s].view,expression:"!inputVisible[aidx].view"}],staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(t){n.showInput(s)}}},[n._v("+自定义")]),n._v(" "),e("el-input",{directives:[{name:"show",rawName:"v-show",value:n.inputVisible[s].view,expression:"inputVisible[aidx].view"}],ref:"saveTagInput"+s,refInFor:!0,staticStyle:{width:"150px"},attrs:{size:"mini"},on:{blur:function(t){n.handleInputConfirm(s)}},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key,"Enter"))return null;n.handleInputConfirm(s)}},model:{value:n.inputValue[s].val,callback:function(t){n.$set(n.inputValue[s],"val",t)},expression:"inputValue[aidx].val"}})],1)],2)],1)}))],1),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.step=1}}},[n._v("上一步")]),n._v(" "),e("el-button",{attrs:{type:"success"},on:{click:n.generateSkus}},[n._v("下一步：设置SKU信息")])],1)],1)],1),n._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:3==n.step,expression:"step==3"}],attrs:{span:24}},[e("el-card",{staticClass:"box-card",staticStyle:{width:"80%",margin:"20px auto"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.spu.skus}},[e("el-table-column",{attrs:{label:"属性组合"}},n._l(n.dataResp.tableAttrColumn,function(t,s){return e("el-table-column",{key:t.attrId,attrs:{label:t.attrName},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticStyle:{"margin-left":"10px"}},[n._v(n._s(t.row.attr[s].attrValue))])]}}])})})),n._v(" "),e("el-table-column",{attrs:{label:"商品名称",prop:"skuName"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-input",{model:{value:t.row.skuName,callback:function(e){n.$set(t.row,"skuName",e)},expression:"scope.row.skuName"}})]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"标题",prop:"skuTitle"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-input",{model:{value:t.row.skuTitle,callback:function(e){n.$set(t.row,"skuTitle",e)},expression:"scope.row.skuTitle"}})]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"副标题",prop:"skuSubtitle"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-input",{model:{value:t.row.skuSubtitle,callback:function(e){n.$set(t.row,"skuSubtitle",e)},expression:"scope.row.skuSubtitle"}})]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"价格",prop:"price"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-input",{model:{value:t.row.price,callback:function(e){n.$set(t.row,"price",e)},expression:"scope.row.price"}})]}}])}),n._v(" "),e("el-table-column",{attrs:{type:"expand"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-row",[e("el-col",{attrs:{span:24}},[e("label",{staticStyle:{display:"block",float:"left"}},[n._v("选择图集 或")]),n._v(" "),e("multi-upload",{staticStyle:{float:"left","margin-left":"10px"},attrs:{showFile:!1,listType:"text"},model:{value:n.uploadImages,callback:function(t){n.uploadImages=t},expression:"uploadImages"}})],1),n._v(" "),e("el-col",{attrs:{span:24}},[e("el-divider")],1),n._v(" "),e("el-col",{attrs:{span:24}},n._l(n.spu.images,function(s,a){return e("el-card",{key:a,staticStyle:{width:"170px",float:"left","margin-left":"15px","margin-top":"15px"},attrs:{"body-style":{padding:"0px"}}},[e("img",{staticStyle:{width:"160px",height:"120px"},attrs:{src:s}}),n._v(" "),e("div",{staticStyle:{padding:"14px"}},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-checkbox",{attrs:{"true-label":s,"false-label":""},model:{value:t.row.images[a].imgUrl,callback:function(e){n.$set(t.row.images[a],"imgUrl",e)},expression:"scope.row.images[index].imgUrl"}})],1),n._v(" "),e("el-col",{attrs:{span:12}},[1==t.row.images[a].defaultImg?e("el-tag",[e("input",{attrs:{type:"radio",checked:"",name:t.row.skuName},on:{change:function(e){n.checkDefaultImg(t.row,a,s)}}}),n._v("设为默认\n                          ")]):e("el-tag",[e("input",{attrs:{type:"radio",name:t.row.skuName},on:{change:function(e){n.checkDefaultImg(t.row,a,s)}}}),n._v("设为默认\n                          ")])],1)],1)],1)])}))],1),n._v(" "),e("el-form",{attrs:{model:t.row}},[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"设置折扣"}},[e("label",[n._v("满")]),n._v(" "),e("el-input-number",{staticStyle:{width:"160px"},attrs:{min:0,"controls-position":"right"},model:{value:t.row.fullCount,callback:function(e){n.$set(t.row,"fullCount",e)},expression:"scope.row.fullCount"}}),n._v(" "),e("label",[n._v("件")]),n._v(" "),e("label",{staticStyle:{"margin-left":"15px"}},[n._v("打")]),n._v(" "),e("el-input-number",{staticStyle:{width:"160px"},attrs:{precision:2,max:1,min:0,step:.01,"controls-position":"right"},model:{value:t.row.discount,callback:function(e){n.$set(t.row,"discount",e)},expression:"scope.row.discount"}}),n._v(" "),e("label",[n._v("折")]),n._v(" "),e("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.countStatus,callback:function(e){n.$set(t.row,"countStatus",e)},expression:"scope.row.countStatus"}},[n._v("可叠加优惠")])],1)],1),n._v(" "),e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"设置满减"}},[e("label",[n._v("满")]),n._v(" "),e("el-input-number",{staticStyle:{width:"160px"},attrs:{step:100,min:0,"controls-position":"right"},model:{value:t.row.fullPrice,callback:function(e){n.$set(t.row,"fullPrice",e)},expression:"scope.row.fullPrice"}}),n._v(" "),e("label",[n._v("元")]),n._v(" "),e("label",{staticStyle:{"margin-left":"15px"}},[n._v("减")]),n._v(" "),e("el-input-number",{staticStyle:{width:"160px"},attrs:{step:10,min:0,"controls-position":"right"},model:{value:t.row.reducePrice,callback:function(e){n.$set(t.row,"reducePrice",e)},expression:"scope.row.reducePrice"}}),n._v(" "),e("label",[n._v("元")]),n._v(" "),e("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.priceStatus,callback:function(e){n.$set(t.row,"priceStatus",e)},expression:"scope.row.priceStatus"}},[n._v("可叠加优惠")])],1)],1),n._v(" "),e("el-col",{attrs:{span:24}},[t.row.memberPrice.length>0?e("el-form-item",{attrs:{label:"设置会员价"}},[e("br"),n._v(" "),n._l(t.row.memberPrice,function(s,a){return e("el-form-item",{key:s.id},[n._v("\n                        "+n._s(s.name)+"\n                        "),e("el-input-number",{staticStyle:{width:"160px"},attrs:{precision:2,min:0,"controls-position":"right"},model:{value:t.row.memberPrice[a].price,callback:function(e){n.$set(t.row.memberPrice[a],"price",e)},expression:"scope.row.memberPrice[mpidx].price"}})],1)})],2):n._e()],1)],1)],1)]}}])})],1),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.step=2}}},[n._v("上一步")]),n._v(" "),e("el-button",{attrs:{type:"success"},on:{click:n.submitSkus}},[n._v("下一步：保存商品信息")])],1)],1),n._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:4==n.step,expression:"step==4"}],attrs:{span:24}},[e("el-card",{staticClass:"box-card",staticStyle:{width:"80%",margin:"20px auto"}},[e("h1",[n._v("保存成功")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:n.addAgian}},[n._v("继续添加")])],1)],1)],1)],1)},staticRenderFns:[]};var x=e("VU/8")(_,y,!1,function(n){e("BFu/")},"data-v-f63e9b40",null);t.default=x.exports},"4WTo":function(n,t,e){var s=e("NWt+");n.exports=function(n,t){var e=[];return s(n,!1,e.push,e,t),e}},"5zde":function(n,t,e){e("zQR9"),e("qyJz"),n.exports=e("FeBl").Array.from},"7Doy":function(n,t,e){var s=e("EqjI"),a=e("7UMu"),r=e("dSzd")("species");n.exports=function(n){var t;return a(n)&&("function"!=typeof(t=n.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),s(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},"9Bbf":function(n,t,e){"use strict";var s=e("kM2E");n.exports=function(n){s(s.S,n,{of:function(){for(var n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];return new this(t)}})}},"9C8M":function(n,t,e){"use strict";var s=e("evD5").f,a=e("Yobk"),r=e("xH/j"),i=e("+ZMJ"),o=e("2KxR"),l=e("NWt+"),u=e("vIB/"),c=e("EGZi"),p=e("bRrM"),d=e("+E39"),f=e("06OY").fastKey,m=e("LIJb"),h=d?"_s":"size",v=function(n,t){var e,s=f(t);if("F"!==s)return n._i[s];for(e=n._f;e;e=e.n)if(e.k==t)return e};n.exports={getConstructor:function(n,t,e,u){var c=n(function(n,s){o(n,c,t,"_i"),n._t=t,n._i=a(null),n._f=void 0,n._l=void 0,n[h]=0,void 0!=s&&l(s,e,n[u],n)});return r(c.prototype,{clear:function(){for(var n=m(this,t),e=n._i,s=n._f;s;s=s.n)s.r=!0,s.p&&(s.p=s.p.n=void 0),delete e[s.i];n._f=n._l=void 0,n[h]=0},delete:function(n){var e=m(this,t),s=v(e,n);if(s){var a=s.n,r=s.p;delete e._i[s.i],s.r=!0,r&&(r.n=a),a&&(a.p=r),e._f==s&&(e._f=a),e._l==s&&(e._l=r),e[h]--}return!!s},forEach:function(n){m(this,t);for(var e,s=i(n,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(s(e.v,e.k,this);e&&e.r;)e=e.p},has:function(n){return!!v(m(this,t),n)}}),d&&s(c.prototype,"size",{get:function(){return m(this,t)[h]}}),c},def:function(n,t,e){var s,a,r=v(n,t);return r?r.v=e:(n._l=r={i:a=f(t,!0),k:t,v:e,p:s=n._l,n:void 0,r:!1},n._f||(n._f=r),s&&(s.n=r),n[h]++,"F"!==a&&(n._i[a]=r)),n},getEntry:v,setStrong:function(n,t,e){u(n,t,function(n,e){this._t=m(n,t),this._k=e,this._l=void 0},function(){for(var n=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==n?t.k:"values"==n?t.v:[t.k,t.v]):(this._t=void 0,c(1))},e?"entries":"values",!e,!0),p(t)}}},ALrJ:function(n,t,e){var s=e("+ZMJ"),a=e("MU5D"),r=e("sB3e"),i=e("QRG4"),o=e("oeOm");n.exports=function(n,t){var e=1==n,l=2==n,u=3==n,c=4==n,p=6==n,d=5==n||p,f=t||o;return function(t,o,m){for(var h,v,b=r(t),g=a(b),w=s(o,m,3),_=i(g.length),y=0,x=e?f(t,_):l?f(t,0):void 0;_>y;y++)if((d||y in g)&&(v=w(h=g[y],y,b),n))if(e)x[y]=v;else if(v)switch(n){case 3:return!0;case 5:return h;case 6:return y;case 2:x.push(h)}else if(c)return!1;return p?-1:u||c?c:x}}},BDhv:function(n,t,e){var s=e("kM2E");s(s.P+s.R,"Set",{toJSON:e("m9gC")("Set")})},"BFu/":function(n,t,e){var s=e("Ecmg");"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);e("rjj0")("6c5ea44a",s,!0)},Ecmg:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},HpRW:function(n,t,e){"use strict";var s=e("kM2E"),a=e("lOnJ"),r=e("+ZMJ"),i=e("NWt+");n.exports=function(n){s(s.S,n,{from:function(n){var t,e,s,o,l=arguments[1];return a(this),(t=void 0!==l)&&a(l),void 0==n?new this:(e=[],t?(s=0,o=r(l,arguments[2],2),i(n,!1,function(n){e.push(o(n,s++))})):i(n,!1,e.push,e),new this(e))}})}},LIJb:function(n,t,e){var s=e("EqjI");n.exports=function(n,t){if(!s(n)||n._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return n}},T2pF:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"c/Tr":function(n,t,e){n.exports={default:e("5zde"),__esModule:!0}},fBQ2:function(n,t,e){"use strict";var s=e("evD5"),a=e("X8DO");n.exports=function(n,t,e){t in n?s.f(n,t,a(0,e)):n[t]=e}},ioQ5:function(n,t,e){e("HpRW")("Set")},lHA8:function(n,t,e){n.exports={default:e("pPW7"),__esModule:!0}},m9gC:function(n,t,e){var s=e("RY/4"),a=e("4WTo");n.exports=function(n){return function(){if(s(this)!=n)throw TypeError(n+"#toJSON isn't generic");return a(this)}}},oNmr:function(n,t,e){e("9Bbf")("Set")},oeOm:function(n,t,e){var s=e("7Doy");n.exports=function(n,t){return new(s(n))(t)}},pPW7:function(n,t,e){e("M6a0"),e("zQR9"),e("+tPU"),e("ttyz"),e("BDhv"),e("oNmr"),e("ioQ5"),n.exports=e("FeBl").Set},qo66:function(n,t,e){"use strict";var s=e("7KvD"),a=e("kM2E"),r=e("06OY"),i=e("S82l"),o=e("hJx8"),l=e("xH/j"),u=e("NWt+"),c=e("2KxR"),p=e("EqjI"),d=e("e6n0"),f=e("evD5").f,m=e("ALrJ")(0),h=e("+E39");n.exports=function(n,t,e,v,b,g){var w=s[n],_=w,y=b?"set":"add",x=_&&_.prototype,k={};return h&&"function"==typeof _&&(g||x.forEach&&!i(function(){(new _).entries().next()}))?(_=t(function(t,e){c(t,_,n,"_c"),t._c=new w,void 0!=e&&u(e,b,t[y],t)}),m("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(n){var t="add"==n||"set"==n;n in x&&(!g||"clear"!=n)&&o(_.prototype,n,function(e,s){if(c(this,_,n),!t&&g&&!p(e))return"get"==n&&void 0;var a=this._c[n](0===e?0:e,s);return t?this:a})}),g||f(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(t,n,b,y),l(_.prototype,e),r.NEED=!0),d(_,n),k[n]=_,a(a.G+a.W+a.F,k),g||v.setStrong(_,n,b),_}},qyJz:function(n,t,e){"use strict";var s=e("+ZMJ"),a=e("kM2E"),r=e("sB3e"),i=e("msXi"),o=e("Mhyx"),l=e("QRG4"),u=e("fBQ2"),c=e("3fs2");a(a.S+a.F*!e("dY0y")(function(n){Array.from(n)}),"Array",{from:function(n){var t,e,a,p,d=r(n),f="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,v=void 0!==h,b=0,g=c(d);if(v&&(h=s(h,m>2?arguments[2]:void 0,2)),void 0==g||f==Array&&o(g))for(e=new f(t=l(d.length));t>b;b++)u(e,b,v?h(d[b],b):d[b]);else for(p=g.call(d),e=new f;!(a=p.next()).done;b++)u(e,b,v?i(p,h,[a.value,b],!0):a.value);return e.length=b,e}})},ttyz:function(n,t,e){"use strict";var s=e("9C8M"),a=e("LIJb");n.exports=e("qo66")("Set",function(n){return function(){return n(this,arguments.length>0?arguments[0]:void 0)}},{add:function(n){return s.def(a(this,"Set"),n=0===n?0:n,n)}},s)},woMT:function(n,t,e){var s=e("T2pF");"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);e("rjj0")("182601f3",s,!0)}});